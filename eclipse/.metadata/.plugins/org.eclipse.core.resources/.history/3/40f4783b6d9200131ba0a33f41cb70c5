package com.pauljoda.mobtools.infusion;

import java.util.Arrays;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.pauljoda.mobtools.tools.ToolManager;

import net.minecraft.init.Items;
import net.minecraft.item.Item;
import net.minecraft.item.ItemStack;

public class RecipiesInfuser {

	/** The list of smelting results. */
	private Map<Integer, Float> experienceList = new HashMap<Integer, Float>();
	private HashMap<List<Integer>, Float> metaExperience = new HashMap<List<Integer>, Float>();

	/**
	 * Used to get the resulting ItemStack form a source ItemStack
	 * @param item The Source ItemStack
	 * @return The result ItemStack
	 */
	public static ItemStack getSmeltingResult(ItemStack item, ItemStack item2) 
	{
		if (item == null)
		{
			return null;
		}

		if(item2.getUnlocalizedName() == Items.diamond.getUnlocalizedName())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creepium, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.endium, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spidium, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blazium, 1);

		}

		else if(item2.getUnlocalizedName() == Items.diamond_sword.getUnlocalizedName()  && !item2.isItemDamaged())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperSword, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.endiumSword, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spidiumSword, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blaziumSword, 1);

		}

		else if(item2.getUnlocalizedName() == Items.diamond_pickaxe.getUnlocalizedName() && !item2.isItemDamaged())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperPick, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.endiumPick, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spidiumPick, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blaziumPick, 1);
		}

		else if(item2.getUnlocalizedName() == Items.diamond_shovel.getUnlocalizedName() && !item2.isItemDamaged())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperShovel, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.endiumShovel, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spidiumShovel, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blaziumShovel, 1);
		}

		else if(item2.getUnlocalizedName() == Items.diamond_axe.getUnlocalizedName() && !item2.isItemDamaged())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperAxe, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.endiumAxe, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spidiumAxe, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blaziumAxe, 1);
		}

		else if(item2.getUnlocalizedName() == Items.diamond_hoe.getUnlocalizedName() && !item2.isItemDamaged())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperHoe, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.endiumHoe, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spidiumHoe, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blaziumHoe, 1);
		}

		else if(item2.getUnlocalizedName() == ToolManager.inertWandCore.getUnlocalizedName())
		{
			if(item.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperWandCore, 1);

			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.enderWandCore, 1);

			if(item.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName())
				return new ItemStack(ToolManager.spiderWandCore, 1);

			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blazeWandCore, 1);
		}

		else if(item2.getUnlocalizedName() == ToolManager.goldenrod.getUnlocalizedName())
		{
			if(item.getUnlocalizedName() == ToolManager.creeperWandCore.getUnlocalizedName())
				return new ItemStack(ToolManager.creeperWand, 1);

			if(item.getUnlocalizedName() == ToolManager.enderWandCore.getUnlocalizedName())
				return new ItemStack(ToolManager.endiumWand, 1);

			if(item.getUnlocalizedName() == ToolManager.spiderWandCore.getUnlocalizedName())
				return new ItemStack(ToolManager.spidiumWand, 1);

			if(item.getUnlocalizedName() == ToolManager.blazeWandCore.getUnlocalizedName())
				return new ItemStack(ToolManager.blaziumWand, 1);
		}

		else if(item2.getUnlocalizedName() == ToolManager.blankAmulet.getUnlocalizedName())
		{
			if(item.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName())
				return new ItemStack(ToolManager.blazeAmulet, 1);

			if(item.getUnlocalizedName() == Items.feather.getUnlocalizedName())
				return new ItemStack(ToolManager.speedAmulet, 1);
			
			if(item.getUnlocalizedName() == Items.slime_ball.getUnlocalizedName())
				return new ItemStack(ToolManager.jumpAmulet, 1);
			
			if(item.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName())
				return new ItemStack(ToolManager.teleportAmulet, 1);

		}

		return null;
	}

	/**
	 * Grabs the amount of base experience for this item to give when pulled from the furnace slot.
	 */
	public float getExperience(ItemStack item)
	{
		if (item == null || item.getItem() == null)
		{
			return 0;
		}
		float ret = item.getItem().getSmeltingExperience(item);
		if (ret < 0 && metaExperience.containsKey(Arrays.asList(item.getUnlocalizedName(), item.getItemDamage())))
		{
			ret = metaExperience.get(Arrays.asList(item.getUnlocalizedName(), item.getItemDamage()));
		}
		if (ret < 0 && experienceList.containsKey(item.getUnlocalizedName()))
		{
			ret = ((Float)experienceList.get(item.getUnlocalizedName())).floatValue();
		}
		return (ret < 0 ? 0 : ret);
	}


	public static boolean isInput(ItemStack itemstack1) {
		if(itemstack1.getUnlocalizedName() == Items.gunpowder.getUnlocalizedName() || itemstack1.getUnlocalizedName() == Items.ender_pearl.getUnlocalizedName() || itemstack1.getUnlocalizedName() == Items.spider_eye.getUnlocalizedName() || itemstack1.getUnlocalizedName() == Items.blaze_rod.getUnlocalizedName() 
				|| itemstack1.getUnlocalizedName() == ToolManager.creeperWandCore.getUnlocalizedName() || itemstack1.getUnlocalizedName() == ToolManager.enderWandCore.getUnlocalizedName() || itemstack1.getUnlocalizedName() == ToolManager.spiderWandCore.getUnlocalizedName() 
				|| itemstack1.getUnlocalizedName() == ToolManager.blazeWandCore.getUnlocalizedName() || itemstack1.getUnlocalizedName() == Items.feather.getUnlocalizedName() || itemstack1.getUnlocalizedName() == Items.slime_ball.getUnlocalizedName()) 
			return true;
		else
			return false;
	}
}
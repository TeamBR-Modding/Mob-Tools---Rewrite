package com.pauljoda.mobtools.tools;

import java.util.List;

import com.pauljoda.mobtools.MobTools;
import com.pauljoda.mobtools.handlers.ToolHandler;

import cpw.mods.fml.relauncher.Side;
import cpw.mods.fml.relauncher.SideOnly;

import net.minecraft.block.Block;
import net.minecraft.entity.player.EntityPlayer;
import net.minecraft.item.ItemHoe;
import net.minecraft.item.ItemStack;
import net.minecraft.world.World;
import net.minecraftforge.event.entity.player.UseHoeEvent;

public class MobToolsHoe extends ItemHoe {
	int ingot;
	int type;

	public MobToolsHoe(ToolMaterial par2EnumToolMaterial, String unlocalized, int ingot, int type) {
		super(par2EnumToolMaterial);
		this.setUnlocalizedName(unlocalized);
		this.setCreativeTab(MobTools.tabMobTools);
		this.ingot = ingot;
		this.type = type;
	}

	@Override
	public boolean onItemUse(ItemStack par1ItemStack, EntityPlayer par2EntityPlayer, World par3World, int par4, int par5, int par6, int par7, float par8, float par9, float par10)
	{
		//Hoe Types:
		//1: Creeper
		//2: Ender				
		//3: Spider
		//4: Blaze

		switch(type)
		{

		case 1 :

			break;

		case 2 : super.onItemUse(par1ItemStack, par2EntityPlayer, par3World, par4, par5, par6, par7, par8, par9, par10);
			return true;

		case 3 : 
			if(par2EntityPlayer.isSneaking())
			{
				if (!par2EntityPlayer.canPlayerEdit(par4, par5, par6, par7, par1ItemStack))
				{
					return false;
				}
				else
				{
					if (ToolHandler.applyBonemeal(par1ItemStack, par3World, par4, par5, par6, par2EntityPlayer))
					{
						if (!par3World.isRemote)
						{
							par3World.playAuxSFX(2005, par4, par5, par6, 0);
							par1ItemStack.damageItem(1, par2EntityPlayer);
						}

						return true;
					}
				}
			}
			else
				return true;

		case 4 : super.onItemUse(par1ItemStack, par2EntityPlayer, par3World, par4, par5, par6, par7, par8, par9, par10);
		return true;

		default : return false;

		}

	}

	@SideOnly(Side.CLIENT)
	public void registerIcons(IconRegister iconRegister) {
		this.itemIcon = iconRegister.registerIcon("mobtools:" + (this.getUnlocalizedName().substring(5)));

	}

	@SuppressWarnings({ "unchecked", "rawtypes" })
	@Override
	public void addInformation(ItemStack par1ItemStack, EntityPlayer par2EntityPlayer, List par3List, boolean par4)
	{
		//Information Types
		//Sword: 1
		//Pick: 2
		//Shovel: 3
		//Hoe: 4
		//Axe: 5
		//Wand: 6
		//Items: 7

		par3List.add("\u00a76" + ToolHandler.getInformation(4, type));
	}

	@Override
	public boolean getIsRepairable(ItemStack par1ItemStack, ItemStack par2ItemStack)
	{
		return ingot == par2ItemStack.itemID ? true : super.getIsRepairable(par1ItemStack, par2ItemStack);
	}


}
